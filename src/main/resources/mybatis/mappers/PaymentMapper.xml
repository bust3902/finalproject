<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="kr.co.nc.mapper.PaymentMapper">

<!-- void updatePaymentStatuts(Payment payment); 결제 상태변경하기 (결제대기 / 결제완료)-->
<update id="updatePaymentStatuts" parameterType="kr.co.nc.vo.Payment">

	update
		payment
	set
		paymnet_Type = #{paymentType}
		payment_Status = #{paymentStatus},
		payment_date = #{paymentDate},
		payment_total_price = #{paymentTotalPrice}
	where 
		payment_id = #{paymentId}
</update>

<select id="getPaymentStatus" parameterType="int" resultType="Payment">
	select
		p.payment_id as paymentId,
		p.payment_status as paymentStatus,
		p.payment_total_price as amount,
		r.reservation_id as "reservationId"
	from reservation r, payment p
	where p.reservation_Id = r.reservation_id
	and p.reservation_Id = ${value}
</select>

</mapper>