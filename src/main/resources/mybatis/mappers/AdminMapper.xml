<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="kr.co.nc.mapper.AdminMapper">

	<!-- 
		void insertAccommodation(Accommodation accommodation)
		숙소 데이터 저장
	 -->
	<insert id="insertAccommodation" parameterType="Accommodation">
		<selectKey keyProperty="id" resultType="int" order="BEFORE">
			select acco_seq.nextval 
			from dual
		</selectKey>
		insert into accommodations
		(acco_id, acco_name, acco_district, acco_address, acco_latitude, acco_longitude,
		 acco_thumbnail_image, city_id, acco_introduce_comment, acco_detail_description)
		values
		(#{id}, #{name}, #{district}, #{address}, #{latitude}, #{longitude},
		 #{thumbnailImageName}, #{cityId}, #{introduceComment}, #{detailDescription})
	</insert>
	
	<!-- 
		void insertAccommodationTypes(AccoTypeRegisterForm accoTypeRegisterForm);
		숙소 타입 저장
	 -->
	<insert id="insertAccommodationTypes" parameterType="AccoTypeRegisterForm">
		insert into acco_types
		(acco_id, acco_type_id)
		values
		(#{id}, #{typeId})
	</insert>	
	
	<!-- 
		void insertAccommodationTags(AccoTagRegisterForm accoTagRegisterForm);
		숙소 태그 저장
	 -->
	<insert id="insertAccommodationTags" parameterType="AccoTagRegisterForm">
		insert into acco_tags
		(acco_id, acco_tag)
		values
		(#{id}, #{tag})
	</insert>	
	
	<!-- 
		void insertAccommodationCommonFacilities(AccoCommonFacilityRegisterForm accoCommonFacilityRegisterForm);
		숙소 공용시설 저장
	 -->
	<insert id="insertAccommodationCommonFacilities" parameterType="AccoCommonFacilityRegisterForm">
		insert into acco_common_facilities
		(acco_id, co_facility_id)
		values
		(#{id}, #{commonFacility})
	</insert>
		
	<!-- 
		void insertAccommodationDetailImages(AccoDetailImageNamesRegisterForm accoDetailImageNamesRegisterForm);
		숙소 상세이미지 저장
	 -->
	<insert id="insertAccommodationDetailImages" parameterType="AccoDetailImageNamesRegisterForm">
		insert into acco_detail_images
		(acco_id, image_file_name)
		values
		(#{id}, #{detailImageName})
	</insert>
	
	<!-- 
		void insertAccoRooms(AccommodationRoom accommodationRoom);
		숙소 객실별 저장
	 -->
	<insert id="insertAccoRooms" parameterType="AccommodationRoom">
		<selectKey keyProperty="no" resultType="int" order="BEFORE">
			select room_seq.nextval 
			from dual
		</selectKey>
		insert into acco_rooms
		(room_no, room_name, room_numbers, room_capacity,
		 room_day_price, room_description, acco_id, room_thumbnail_image)
		values
		(#{no}, #{name}, #{numbers}, #{capacity},
		 #{dayPrice}, #{description}, #{accoId}, #{thumbnailImageName})
	</insert>
	
	<!-- 
		void insertAccoRoomFacilities(AccoRoomFacilitiesRegisterForm accoRoomFacilitiesRegisterForm);
		객실별 시설 저장
	 -->
	<insert id="insertAccoRoomFacilities" parameterType="AccoRoomFacilitiesRegisterForm">
		insert into acco_room_facilities
		(room_no, ro_facility_id)
		values
		(#{no}, #{roomFacilities})
	</insert>
	
	<!-- 
		void insertAccoRoomDetailImages(AccoRoomDetailImageNamesRegisterForm accoRoomDetailImageNamesRegisterForm);
		객실 상세 이미지 저장
	 -->
	<insert id="insertAccoRoomDetailImages" parameterType="AccoRoomDetailImageNamesRegisterForm">
		insert into acco_room_detail_images
		(room_no, room_image_file_name)
		values
		(#{no}, #{detailImageName})
	</insert>
	
	<!-- 
		void insertRestaurant(Restaurant restaurant);
		음식점 정보 저장
	 -->
	<insert id="insertRestaurant" parameterType="Restaurant">
		<selectKey keyProperty="no" resultType="int" order="BEFORE">
			select restaurant_seq.nextval 
			from dual
		</selectKey>
		insert into restaurant
		(restaurant_no, restaurant_name, restaurant_location, restaurant_imgname, restaurant_tel, restaurant_latitud,
		 restaurant_longitude, city_id, restaurant_opening, restaurant_break_time, restaurant_close, restaurant_district)
		values
		(#{no}, #{name}, #{location}, #{imgname}, #{tel}, #{latitud},
		 #{longitude}, #{cityId}, #{opening}, #{breakTime}, #{close}, #{district})
	</insert>

	<!-- 
		void insertRestaurantTags(RestaurantTag restaurantTag);
		음식점 태그 정보 저장
	 -->
	<insert id="insertRestaurantTags" parameterType="RestaurantTag">
		insert into restaurant_tag
		(restaurant_no, restaurant_tag)
		values
		(#{restaurantNo}, #{tag})
	</insert>
	 
	 <!-- 
		void insertRestaurantMenus(RestaurantMenuRegisterForm restaurantMenuRegisterForm);
		음식점 메뉴 정보 저장
	 -->
	<insert id="insertRestaurantMenus" parameterType="RestaurantMenuRegisterForm">
		insert into restaurant_menu
		(restaurant_no, restaurant_menu_name, restaurant_price)
		values
		(#{no}, #{menuName}, #{price})
	</insert>
	 
	 <!-- 
		void insertRestaurantCategories(RestaurantCategoryRegisterForm restaurantCategoryRegisterForm);
		음식점 카테고리 정보 저장
	 -->
	<insert id="insertRestaurantCategories" parameterType="RestaurantCategoryRegisterForm">
		insert into restaurant_cat
		(restaurant_no, restaurant_cat_id)
		values
		(#{no}, #{category})
	</insert>
</mapper>